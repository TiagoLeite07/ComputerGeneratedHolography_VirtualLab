<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Computer Generated Holography Virtual Lab</title>
    <link rel="stylesheet" href="css/base.css" />
</head>
<body>
    <div id="container"></div>

    <script src="js/three.min.js"></script>
    <script src="js/Detector.js"></script>
    <script src="js/controls/OrbitControls.js"></script>
    <script src="js/stats.min.js"></script>
    <script src="js/dat.gui.min.js"></script>
    <script>
        if ( ! Detector.webgl ) Detector.addGetWebGLMessage();

        var scene, camera, controls, renderer;
        var container, stats;
        var gui;

        init();

        animate();

        function init() {
            container = document.getElementById('container');

            scene = new THREE.Scene();

            renderer = new THREE.WebGLRenderer({antialias: true, alpha: false});
            renderer.setClearColor(0x777777);
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.autoClear = true;

            container.appendChild(renderer.domElement);

            stats = new Stats();
            stats.domElement.style.position = 'absolute';
            stats.domElement.style.top = '0px';
            container.appendChild( stats.domElement );

            var aspect = window.innerWidth / window.innerHeight;

            camera = new THREE.PerspectiveCamera(45, aspect, 0.1, 10000);
            camera.position.set(0, 0, 5);

            controls = new THREE.OrbitControls( camera, renderer.domElement );

            var geometry = new THREE.BoxGeometry(1, 1, 1);
            var material = new THREE.MeshBasicMaterial({color: 0x00ff00});
            var cube = new THREE.Mesh(geometry, material);
            scene.add(cube);

            set_gui();
        }

        function set_gui()
        {
            gui = new dat.GUI();

            var parameters =
            {
                a: 200, // numeric
                b: 200, // numeric slider
                c: "Hello, GUI!", // string
                d: false, // boolean (checkbox)
                e: "#ff8800", // color (hex)
                f: function() { alert("Hello!") },
                g: function() { alert( parameters.c ) },
                v : 0,    // dummy value, only type is important
                w: "...", // dummy value, only type is important
                x: 0, y: 0, z: 0
            };
            // gui.add( parameters )
            gui.add( parameters, 'a' ).name('Number');
            gui.add( parameters, 'b' ).min(128).max(256).step(16).name('Slider');
            gui.add( parameters, 'c' ).name('String');
            gui.add( parameters, 'd' ).name('Boolean');

            gui.addColor( parameters, 'e' ).name('Color');

            var numberList = [1, 2, 3];
            gui.add( parameters, 'v', numberList ).name('List');

            var stringList = ["One", "Two", "Three"];
            gui.add( parameters, 'w', stringList ).name('List');

            gui.add( parameters, 'f' ).name('Say "Hello!"');
            gui.add( parameters, 'g' ).name("Alert Message");

            var folder1 = gui.addFolder('Coordinates');
            folder1.add( parameters, 'x' );
            folder1.add( parameters, 'y' );
            folder1.close();
            gui.open();
        }

        function animate()
        {
            requestAnimationFrame( animate );
            render();
            update();
        }

        function render()
        {
            renderer.render(scene, camera);
        }

        function update()
        {
            controls.update();
            stats.update();
        }
    </script>
</body>
</html>